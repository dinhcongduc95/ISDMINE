<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>SB Admin - Bootstrap Admin Template</title>
    <!-- Bootstrap Core CSS -->
    @Styles.Render("~/Content/bootstrap/css/bootstrap.min.css")

    <!-- Custom CSS -->
    @Scripts.Render("~/Content/sb-admin.css")"
    <!-- Morris Charts CSS -->

    @Styles.Render("~/Content/sb-admin.css")
    <!-- Custom Fonts -->
    @Styles.Render("~/Content/font-awesome/css/font-awesome.min.css")

    @Scripts.Render("~/Content/jquery/jquery.min.js")

    <!-- Bootstrap Core JavaScript -->
    @Scripts.Render("~/Content/bootstrap/js/bootstrap.min.js")
    <!-- Morris Charts JavaScript -->
    <script src="@Url.Content("~/Content/ckeditor/ckeditor.js")"></script>
    @RenderSection("scripts", false)
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="https://kendo.cdn.telerik.com/2016.3.1118/styles/kendo.common-material.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://kendo.cdn.telerik.com/2016.3.1118/styles/kendo.mobile.all.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://kendo.cdn.telerik.com/2016.3.1118/styles/kendo.dataviz.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://kendo.cdn.telerik.com/2016.3.1118/styles/kendo.material.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://kendo.cdn.telerik.com/2016.3.1118/styles/kendo.dataviz.material.min.css" rel="stylesheet" type="text/css"/>
    <script src="https://kendo.cdn.telerik.com/2016.3.1118/js/jquery.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2016.3.1118/js/jszip.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2016.3.1118/js/kendo.all.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2016.3.1118/js/kendo.aspnetmvc.min.js"></script>
    <script src="@Url.Content("~/Scripts/kendo.modernizr.custom.js")"></script>

    <link href="@Url.Content("~/Content/JQueryUI/themes/base/jquery.ui.all.css")" rel="stylesheet"/>

    <script src="/Scripts/ui/jquery.ui.core.js"></script>
    <script src="/Scripts/ui/jquery.ui.widget.js"></script>
    <script src="/Scripts/ui/jquery.ui.mouse.js"></script>
    <script src="/Scripts/ui/jquery.ui.draggable.js"></script>
    <script src="/Scripts/ui/jquery.ui.resizable.js"></script>

    <link href="/Content/ChatStyle.css" rel="stylesheet"/>
</head>
<body>
<div id="wrapper">
<!-- Navigation -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">

<!-- Brand and toggle get grouped for better mobile display -->

<div class="navbar-header">

    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">

        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>

    <a class="navbar-brand" href="index.cshtml">Prodev VN</a>

</div>

<!-- Top Menu Items -->

<ul class="nav navbar-right top-nav">

<li class="dropdown">

    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        <i class="fa fa-envelope"></i> <b class="caret"></b>
    </a>

    <ul class="dropdown-menu message-dropdown">

        <li class="message-preview">

            <a href="#">

                <div class="media">

                    <span class="pull-left">
                                            <img class="media-object" src="" alt="">
                                        </span>
                    <div class="media-body">

                        <h5 class="media-heading">
                            <strong>John Smith</strong>

                        </h5>

                        <p class="small text-muted">
                            <i class="fa fa-clock-o"></i> Yesterday at 4:32 PM
                        </p>

                        <p>Lorem ipsum dolor sit amet, consectetur...</p>

                    </div>

                </div>

            </a>

        </li>

        <li class="message-preview">

            <a href="#">

                <div class="media">

                    <span class="pull-left">
                                            <img class="media-object" src="" alt="">
                                        </span>
                    <div class="media-body">

                        <h5 class="media-heading">
                            <strong>John Smith</strong>

                        </h5>

                        <p class="small text-muted">
                            <i class="fa fa-clock-o"></i> Yesterday at 4:32 PM
                        </p>

                        <p>Lorem ipsum dolor sit amet, consectetur...</p>

                    </div>

                </div>

            </a>

        </li>

        <li class="message-preview">

            <a href="#">

                <div class="media">

                    <span class="pull-left">
                                            <img class="media-object" src="" alt="">
                                        </span>
                    <div class="media-body">

                        <h5 class="media-heading">
                            <strong>John Smith</strong>

                        </h5>

                        <p class="small text-muted">
                            <i class="fa fa-clock-o"></i> Yesterday at 4:32 PM
                        </p>

                        <p>Lorem ipsum dolor sit amet, consectetur...</p>

                    </div>

                </div>

            </a>

        </li>

        <li class="message-footer">

            <a href="#">Read All New Messages</a>

        </li>

    </ul>

</li>

<li class="dropdown">

    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        <i class="fa fa-bell"></i> <b class="caret"></b>
    </a>

    <ul class="dropdown-menu alert-dropdown">

        <li>

            <a href="#">Alert Name <span class="label label-default">Alert Badge</span></a>

        </li>

        <li>

            <a href="#">Alert Name <span class="label label-primary">Alert Badge</span></a>

        </li>

        <li>

            <a href="#">Alert Name <span class="label label-success">Alert Badge</span></a>

        </li>

        <li>

            <a href="#">Alert Name <span class="label label-info">Alert Badge</span></a>

        </li>

        <li>

            <a href="#">Alert Name <span class="label label-warning">Alert Badge</span></a>

        </li>

        <li>

            <a href="#">Alert Name <span class="label label-danger">Alert Badge</span></a>

        </li>

        <li class="divider"></li>

        <li>

            <a href="#">View All</a>

        </li>

    </ul>

</li>

<li class="dropdown">

    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user"></i> John Smith <b class="caret"></b></a>

    <ul class="dropdown-menu">

        <li>

            <a href="#"><i class="fa fa-fw fa-user"></i> Profile</a>

        </li>

        <li>

            <a href="#"><i class="fa fa-fw fa-envelope"></i> Inbox</a>

        </li>

        <li>

            <a href="#"><i class="fa fa-fw fa-gear"></i> Settings</a>

        </li>

        <li class="divider"></li>

        <li>

            <a href="#"><i class="fa fa-fw fa-power-off"></i> Log Out</a>

        </li>

    </ul>

</li>

</ul>

<!-- Sidebar Menu Items - These collapse to the responsive navigation menu on small screens -->

<div class="collapse navbar-collapse navbar-ex1-collapse">

    <ul class="nav navbar-nav side-nav">

        <li class="active">

            <a href="~/Admin/Home/Index"><i class="fa fa-fw fa-dashboard"></i> Dashboard</a>

        </li>

        <li>

            <a href="javascript:;" data-toggle="collapse" data-target="#platformDrop"><i class="fa fa-fw fa-arrows-v"></i> Platforms <i class="fa fa-fw fa-caret-down"></i></a>

            <ul id="platformDrop" class="collapse">
                <li>

                    <a href="~/Admin/Platforms/Index">List</a>

                </li>

                <li>

                    <a href="~/Admin/Platforms/Create">Add</a>

                </li>

            </ul>

        </li>

        <li>

            <a href="javascript:;" data-toggle="collapse" data-target="#courseDrop"><i class="fa fa-fw fa-arrows-v"></i> Courses <i class="fa fa-fw fa-caret-down"></i></a>

            <ul id="courseDrop" class="collapse">

                <li>

                    <a href="~/Admin/Courses/Index">List</a>

                </li>

                <li>

                    <a href="~/Admin/Courses/Create">Add</a>

                </li>

            </ul>

        </li>

        <li>

            <a href="javascript:;" data-toggle="collapse" data-target="#enrolDrop"><i class="fa fa-fw fa-arrows-v"></i> Enrolments <i class="fa fa-fw fa-caret-down"></i></a>

            <ul id="enrolDrop" class="collapse">

                <li>

                    <a href="~/Admin/Enrolments/Index">List</a>

                </li>
                <li>

                    <a href="~/Admin/Enrolments/Create">Add</a>

                </li>

            </ul>

        </li>

        <li>

            <a href="javascript:;" data-toggle="collapse" data-target="#lessionDrop"><i class="fa fa-fw fa-arrows-v"></i> Lessions <i class="fa fa-fw fa-caret-down"></i></a>

            <ul id="lessionDrop" class="collapse">

                <li>

                    <a href="~/Admin/Lessions/Index">List</a>

                </li>

                <li>

                    <a href="~/Admin/Lessions/Create">Add</a>

                </li>

            </ul>

        </li>

        <li>

            <a href="javascript:;" data-toggle="collapse" data-target="#testDrop"><i class="fa fa-fw fa-arrows-v"></i> Tests <i class="fa fa-fw fa-caret-down"></i></a>

            <ul id="testDrop" class="collapse">

                <li>

                    <a href="~/Admin/Tests/Index">List</a>

                </li>
                <li>

                    <a href="~/Admin/Tests/Create">Add</a>

                </li>

            </ul>

        </li>

        <li>

            <a href="javascript:;" data-toggle="collapse" data-target="#testResultDrop"><i class="fa fa-fw fa-arrows-v"></i> Test Results <i class="fa fa-fw fa-caret-down"></i></a>

            <ul id="testResultDrop" class="collapse">

                <li>

                    <a href="~/Admin/TestResults/Index">List</a>

                </li>
                <li>

                    <a href="~/Admin/TestResults/Create">Add</a>

                </li>

            </ul>

        </li>

        <li>

            <a href="javascript:;" data-toggle="collapse" data-target="#userDrop"><i class="fa fa-fw fa-arrows-v"></i> Users <i class="fa fa-fw fa-caret-down"></i></a>

            <ul id="userDrop" class="collapse">

                <li>

                    <a href="~/Admin/Users/Index">List</a>

                </li>

            </ul>

        </li>

        <li>

            <a href="javascript:;" data-toggle="collapse" data-target="#commentDrop"><i class="fa fa-fw fa-arrows-v"></i> Comments <i class="fa fa-fw fa-caret-down"></i></a>

            <ul id="commentDrop" class="collapse">

                <li>

                    <a href="~/Admin/Comments/Index">List</a>

                </li>
                <li>

                    <a href="~/Admin/Comments/Create">Add</a>

                </li>

            </ul>

        </li>

        <li>

            <a href="javascript:;" data-toggle="collapse" data-target="#tutorialDrop"><i class="fa fa-fw fa-arrows-v"></i> Tutorials <i class="fa fa-fw fa-caret-down"></i></a>

            <ul id="tutorialDrop" class="collapse">

                <li>

                    <a href="~/Admin/Tutorials/Index">List</a>

                </li>
                <li>

                    <a href="~/Admin/Tutorials/Create">Add</a>

                </li>

            </ul>

        </li>

        <li>

            <a href="~/Admin/Files/Index">File Management</a>

        </li>


    </ul>

</div>

<!-- /.navbar-collapse -->

</nav>

<div id="page-wrapper">


    <div class="container-fluid" style="min-height: 1000px">
        @RenderBody()

    </div>
</div>
</div>
</body>


</html>
<script src="@Url.Content("~/Scripts/ChatClientSignalR.js")"></script>
<script src="@Url.Content("~/Scripts/jquery.signalR-2.2.1.min.js")"></script>

<!--Reference the autogenerated SignalR hub script. -->
<script src="@Url.Content("/signalr/hubs")"></script>
<div style="position: fixed; bottom: 1%; right: 1%;">
    <button id="chatBtn" class="btn btn-lg btn-success"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Khách hàng</button>
</div>

<div style="position: fixed; bottom: 0; right: 1%; display: none" id="chatDiv">
    <div id="divContainer">
        <div id="divLogin" class="login">
            <div>
                Tên của bạn:<br />
                <input id="txtNickName" type="text" class="textBox" />
            </div>
            <div id="divButton">
                <input id="btnStartChat" type="button" class="btn btn-lg btn-success" value="Bắt đầu chat" />
            </div>
        </div>

        <div id="divChat" class="chatRoom">
            <div class="title">
                <div class="text-left">
                    Chào bạn: [<span id="spanUser"></span>]
                    <span class="glyphicon glyphicon-minus" style="cursor: pointer; float: right" id="doneBtn" aria-hidden="true"></span>
                </div>
            </div>
            <div class="content">
                <div id="divusers" class="users">
                </div>
            </div>
        </div>

        <input id="hdId" type="hidden" />
        <input id="hdUserName"
               type="hidden" />
        <input id="hdRole" value="Admin"
               type="hidden" />
    </div>
</div>
<script>
        $('#chatBtn')
            .click(function() {
                $(this).hide();
                $('#chatDiv').show();
            });

        $('#doneBtn')
            .click(function() {
                $('#chatBtn').show();
                $('#chatDiv').hide();
            });

</script>
<script>
    function createPrivateChatWindow(chatHub, userId, ctrId, userName) {
        
        var div = '<div id="' + ctrId + '" class="ui-widget-content draggable" rel="0">' +
                   '<div class="header">' +
                      '<div  style="float:right;">' +
                          '<span id="imgDelete" class="glyphicon glyphicon-remove" style="cursor:pointer;"></span>' +
                       '</div>' +

                       '<span class="selText" rel="0">' + userName + '</span>' +
                   '</div>' +
                   '<div id="divMessage" class="messageArea">' +

                   '</div>' +
                   '<div class="buttonBar">' +
                      '<input id="txtPrivateMessage" class="msgText" type="text"   />' +
                      '<input id="btnSendMessage" class="submitButton button" type="button" value="Send"   />' +
                   '</div>' +
                '</div>';

        var $div = $(div);

        // DELETE BUTTON IMAGE
        $div.find('#imgDelete').click(function () {
            $('#' + ctrId).remove();
        });

        // Send Button event
        $div.find("#btnSendMessage").click(function () {

            $textBox = $div.find("#txtPrivateMessage");
            var msg = $textBox.val();
            if (msg.length > 0) {
                chatHub.server.sendPrivateMessage(userId, msg);
                $textBox.val('');
            }
        });

        // Text Box event
        $div.find("#txtPrivateMessage").keypress(function (e) {
            if (e.which == 13) {
                $div.find("#btnSendMessage").click();
            }
        });

        AddDivToContainer($div);

    }

</script>
